{
  "components": [
    {
      "is": "ToolTip",
      "if": [
        "if (context.isSwivelAdmin) { return true; }",
        "const user = context.$store.state.auth.userProfile;",
        "if (!user) { return false; }",
        "const partyGroup = user.selectedPartyGroup",
        "const partyGroupInstalled = (user.selectedPartyGroup.configuration || {}).installedService || [];",
        "const userRoles = user.roles || []",
        "if (partyGroupInstalled.find(install => install === 'BOOKING_CONTROL')) {",
          "return !userRoles.find(role => role.name === 'BLOCK_BOOKING_EDIT')",
        "}",
        "return true"
      ],
      "props": {
        "bottom": true,
        "activatorComponents": {
          "layout": "span",
          "components": [{
            "is": "v-btn",
            "props": {
              "small": true,
              "flat": true,
              "icon": true,
              "class": "primary white-text"
            },
            "slots": [{
              "is": "Icon",
              "props": {
                "icon": "edit"
              }
            }],
            "events": {
              "click.stop": [{
                "type": "dispatch",
                "otherParams": {
                  "name": "widget/changeMode",
                  "mode": "edit"
                }
              }]
            }
          }]
        },
        "mainComponents": {
          "layout": "span",
          "components": [{
            "is": "I18nText",
            "props": {
              "i18nContext": "BookingPage",
              "i18nKey": "edit"
            }
          }]
        }
      }
    }
  ]
}
