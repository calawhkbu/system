{
  "class": "grid",
  "components": [{
      "is": "DynamicComponent",
      "props": {
        "class": "xs-12 grid min-height-28 align-item-center full-width padding-2",
        "components": [{
            "is": "v-btn",
            "props": {
              "class": "margin-0",
              "small": true,
              "flat": true,
              "icon": true
            },
            "slots": [{
              "is": "Icon",
              "props": {
                "icon": "arrow_back"
              }
            }],
            "events": {
              "click.stop": [{
                "type": "router",
                "otherParams": {
                  "func": "push",
                  "path": "/{{ p[0] }}/{{ p[1] }}"
                }
              }]
            }
          },
          {
            "is": "I18nText",
            "props": {
              "i18nContext": "BookingPage",
              "i18nKey": "title",
              "i18nOptions": {
                "title": "{{context.$store.state.widget.data.bookingNo}}"
              }
            }
          },
          {
            "is": "v-spacer"
          },
          {
            "is": "ToolTip",
            "props": {
              "bottom": true,
              "activatorComponents": {
                "layout": "span",
                "components": [{
                  "is": "SaveEntityTemplateButton",
                  "props": {
                    "small": true,
                    "flat": true,
                    "icon": true,
                    "blackList": ["id"],
                    "axiosParams": "{ \"method\" : \"POST\",\"url\" : \"/default\",\"data\" : { \"tableName\" : \"booking\" , \"name\" : {{name | safe}},\"value\" : {{value | safe }}   }   }"
                  }
                }]
              },
              "mainComponents": {
                "layout": "span",
                "components": [{
                  "is": "I18nText",
                  "props": {
                    "i18nContext": "BookingPage",
                    "i18nKey": "Template"
                  }
                }]
              }
            }
          },
          {
            "is": "ToolTip",
            "props": {
              "bottom": true,
              "activatorComponents": {
                "layout": "span",
                "components": [{
                  "is": "BookmarkButton",
                  "props": {
                    "entity": "booking",
                    "small": true,
                    "flat": true,
                    "icon": true
                  }
                }]
              }
            },
            "mainComponents": {
              "layout": "span",
              "components": [{
                "is": "I18nText",
                "props": {
                  "i18nContext": "BookingPage",
                  "i18nKey": "bookmark"
                }
              }]
            }
          },
          {
            "is": "ToolTip",
            "props": {
              "bottom": true,
              "activatorComponents": {
                "layout": "span",
                "components": [{
                  "is": "v-btn",
                  "props": {
                    "small": true,
                    "flat": true,
                    "icon": true
                  },
                  "slots": [{
                    "is": "Icon",
                    "props": {
                      "icon": "map"
                    }
                  }],
                  "events": {
                    "click.stop": [{
                      "type": "dispatch",
                      "otherParams": {
                        "name": "widget/changeMode",
                        "mode": "map"
                      }
                    }]
                  }
                }]
              }
            },
            "mainComponents": {
              "layout": "span",
              "components": [{
                "is": "I18nText",
                "props": {
                  "i18nContext": "BookingPage",
                  "i18nKey": "map"
                }
              }]
            }
          },
          {
            "is": "ToolTip",
            "props": {
              "bottom": true,
              "activatorComponents": {
                "layout": "span",
                "components": [{
                  "is": "v-btn",
                  "props": {
                    "small": true,
                    "flat": true,
                    "icon": true,
                    "class": "primary white-text"
                  },
                  "slots": [{
                    "is": "Icon",
                    "props": {
                      "icon": "edit"
                    }
                  }],
                  "events": {
                    "click.stop": [{
                      "type": "dispatch",
                      "otherParams": {
                        "name": "widget/changeMode",
                        "mode": "edit"
                      }
                    }]
                  }
                }]
              }
            },
            "mainComponents": {
              "layout": "span",
              "components": [{
                "is": "I18nText",
                "props": {
                  "i18nContext": "BookingPage",
                  "i18nKey": "edit"
                }
              }]
            }
          }
        ]
      }
    },
    {
      "is": "WidgetTab",
      "if": "return !context.$vuetify.breakpoint.mdAndUp",
      "props": {
        "show-arrows": true,
        "tabComponents": [{
            "index": "gereral",
            "tabComponents": [{
              "is": "I18nText",
              "props": {
                "i18nContext": "BookingPage",
                "i18nKey": "GeneralForm"
              }
            }],
            "tabItemComponents": [{
                "is": "AsyncComponent",
                "props": {
                  "layoutName": "booking/base/tracking"
                }
              },
              {
                "is": "v-card",
                "props": {
                  "class": "margin-bottom-2"
                },
                "slots": [{
                  "is": "AsyncComponent",
                  "props": {
                    "layoutName": "booking/base/general"
                  }
                }]
              },
              {
                "is": "v-card",
                "props": {
                  "class": "margin-bottom-2"
                },
                "slots": [{
                  "is": "AsyncComponent",
                  "props": {
                    "layoutName": "booking/base/container"
                  }
                }]
              }
            ]
          },
          {
            "index": "partyDateAndReference",
            "tabComponents": [{
              "is": "I18nText",
              "props": {
                "i18nContext": "BookingPage",
                "i18nKey": "PartyAndDate"
              }
            }],
            "tabItemComponents": [{
                "is": "v-card",
                "props": {
                  "class": "margin-bottom-2"
                },
                "slots": [{
                  "is": "AsyncComponent",
                  "props": {
                    "layoutName": "booking/base/party"
                  }
                }]
              },
              {
                "is": "v-card",
                "props": {
                  "class": "margin-bottom-2"
                },
                "slots": [{
                  "is": "AsyncComponent",
                  "props": {
                    "layoutName": "booking/base/date"
                  }
                }]
              }
            ]
          },
          {
            "index": "alertWorkflowAndDocument",
            "tabComponents": [{
              "is": "I18nText",
              "props": {
                "i18nContext": "BookingPage",
                "i18nKey": "alertAndDocument"
              }
            }],
            "tabItemComponents": [{
              "is": "AsyncComponent",
              "props": {
                "layoutName": "booking/base/document"
              }
            }]
          },
          {
            "index": "reference",
            "tabComponents": [{
              "is": "I18nText",
              "props": {
                "i18nContext": "BookingPage",
                "i18nKey": "reference"
              }
            }],
            "tabItemComponents": [{
              "is": "AsyncComponent",
              "props": {
                "class": "padding-top-4",
                "layoutName": "booking/base/reference"
              }
            }]
          }
        ]
      }
    },
    {
      "is": "DynamicComponent",
      "if": "return context.$vuetify.breakpoint.mdAndUp",
      "props": {
        "class": "xs-12 grid full-width padding-2",
        "components": [{
            "is": "DynamicComponent",
            "props": {

              "class": "xs-8 grid padding-2",
              "components": [{
                  "is": "AsyncComponent",
                  "props": {
                    "class": "xs-12 margin-bottom-2 padding-top-4",
                    "layoutName": "booking/base/general"
                  }
                },
                {
                  "is": "DynamicComponent",
                  "props": {
                    "class": "xs-12 grid padding-bottom-2",
                    "components": [{
                      "is": "DynamicComponent",
                      "props": {
                        "class": "xs-6 padding-right-2",
                        "components": [{
                          "is": "AsyncComponent",
                          "props": {
                            "layoutName": "booking/base/party"
                          }
                        }]
                      }
                    }, {
                      "is": "DynamicComponent",
                      "props": {
                        "class": "xs-6 padding-left-2",
                        "components": [{
                          "is": "AsyncComponent",
                          "props": {
                            "layoutName": "booking/base/date"
                          }
                        }]
                      }
                    }]
                  }
                },
                {
                  "is": "AsyncComponent",
                  "props": {
                    "class": "xs-12 margin-bottom-2 padding-top-4",
                    "layoutName": "booking/base/container"
                  }
                },
                {
                  "is": "AsyncComponent",
                  "props": {
                    "class": "xs-12 margin-bottom-2 padding-top-4",
                    "layoutName": "booking/base/reference"
                  }
                }
              ]
            }
          },
          {
            "is": "DynamicComponent",
            "props": {
              "class": "xs-4 padding-2",
              "components": [{
                  "is": "AsyncComponent",
                  "props": {
                    "class": "xs-12 margin-bottom-2",
                    "layoutName": "booking/base/tracking"
                  }
                }, {
                  "is": "AsyncComponent",
                  "props": {
                    "class": "xs-12 margin-bottom-2",
                    "layoutName": "booking/base/tracking"
                  }
                },
                {
                  "is": "AsyncComponent",
                  "props": {
                    "class": "xs-12 margin-bottom-2",
                    "layoutName": "booking/base/document"
                  }
                }
              ]
            }
          }
        ]
      }
    },
    {
      "is": "div",
      "if": "return context.$vuetify.breakpoint.mdAndUp",
      "props": {
        "class": "xs-12 md-4 padding-8"
      },
      "slots": [{
          "is": "AsyncComponent",
          "props": {
            "getDate": "bookingDate",
            "class": "xs-12 margin-topbottom-4",
            "layoutName": "plugins/tracking",
            "loadWhenDataLoaded": true,
            "axiosBaseParams": [
              "const trackingNos = [];",
              "const data = context.$store.state.widget.data;",
              "if (data.bookingReference && data.bookingReference.length > 0) {",
              "for (const reference of data.bookingReference || []) {",
              "if ((reference.refName === 'MAWB' || reference.refName === 'MBL') && reference.refDescription){",
              "trackingNos.push(reference.refDescription)",
              "}",
              "}",
              "}",
              "if (data.bookingContainers && data.bookingContainers.length > 0) {",
              "for (const containers of data.bookingContainers) {",
              "if (containers.soNo){",
              "trackingNos.push(containers.soNo)",
              "}",
              "if (containers.containerNo){",
              "trackingNos.push(containers.containerNo)",
              "}",
              "}",
              "}",
              "return {",
              "url: 'api/swivel-tracking/get',",
              "method: 'POST',",
              "data: { trackingNos }",
              "};"
            ],
            "createI18nKey": "bookingReceivedByForwarder"
          }
        },
        {
          "is": "AsyncComponent",
          "props": {
            "class": "xs-12 margin-topbottom-4",
            "layoutName": "plugins/alert",
            "axiosBaseParams": [
              "const primaryKey = encodeURIComponent(context.$route.params.params);",
              "return {",
              "url: 'api/alert/list/history',",
              "method: 'POST',",
              "data: { tableName: 'booking', primaryKey }",
              "};"
            ],
            "sendMessageAxiosParams": [
              "const primaryKey = encodeURIComponent(context.$route.params.params);",
              "return {",
              "url: `api/alert/message/booking/${primaryKey}`,",
              "method: 'POST',",
              "data: { message: swig.message }",
              "};"
            ]
          }
        },
        {
          "is": "AsyncComponent",
          "props": {
            "class": "xs-12 margin-topbottom-4",
            "layoutName": "plugins/document",
            "axiosBaseParams": [
              "const primaryKey = encodeURIComponent(context.$route.params.params);",
              "return {",
              "url: 'api/document/document/booking/{{primaryKey}}'.format({ primaryKey }),",
              "};"
            ],
            "uploadAxiosParams": [
              "const primaryKey = encodeURIComponent(context.$route.params.params);",
              "return {",
              "method: 'POST',",
              "url: 'api/document/document/upload',",
              "data: {",
              "tableName: 'booking', primaryKey,",
              "fileName: swig.fileName,",
              "fileData: { base64String: swig.base64String, extension: swig.extension }",
              "}",
              "};"
            ],
            "downloadAxiosParams": [
              "const primaryKey = encodeURIComponent(context.$route.params.params);",
              "return {",
              "responseType: 'blob',",
              "method: 'POST',",
              "url: 'api/document/document/download',",
              "data: {tableName: 'booking', primaryKey, fileName: swig.fileName}",
              "}"
            ],
            "deleteAxiosParams": [
              "const primaryKey = encodeURIComponent(context.$route.params.params);",
              "return {",
              "method: 'POST',",
              "url: 'api/document/document/delete',",
              "data: {tableName: 'booking', primaryKey, fileName: swig.fileName}",
              "}"
            ]
          }
        }
      ]
    }
  ]
}
