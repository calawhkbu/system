{
  "layout": "v-card",
  "components": [{
      "is": "WidgetForm",
      "props": {
        "fields": [{
            "label": "BookingPage.moduleType",
            "name": "moduleTypeCode",
            "component": "AsyncSelect",
            "class": "xs-12 md-6",
            "validator": [
              "required"
            ],
            "relation": "moduleType",
            "props": {
              "required": true,
              "url": "api/code/query/code_master",
              "item-text": "name",
              "item-value": "code",
              "params": {
                "subqueries": {
                  "codeType": {
                    "value": "MODULE"
                  }
                }
              }
            }
          },
          {
            "label": "BookingPage.boundType",
            "name": "boundTypeCode",
            "component": "AsyncSelect",
            "class": "xs-12 md-6",
            "relation": "boundType",
            "validator": [
              "required"
            ],
            "props": {
              "required": true,
              "url": "api/code/query/code_master",
              "item-text": "name",
              "item-value": "code",
              "params": {
                "subqueries": {
                  "codeType": {
                    "value": "BOUND"
                  }
                }
              }
            }
          },
          {
            "label": "BookingPage.placeOfReceipt",
            "name": "placeOfReceipt",
            "component": "AsyncAutoSuggest",
            "class": "xs-12 md-2",
            "readonlyClass": "hidden",
            "more": [{
              "name": "placeOfReceiptCode",
              "selector": "code"
            }],
            "props": {
              "url": "api/code/query/code_master",
              "searchValueParams": {
                "subqueries": {
                  "flexDataData": {
                    "flexDataKey": "$.moduleType",
                    "value": "{{form.moduleTypeCode}}"
                  },
                  "codeType": {
                    "value": "LOCATION"
                  },
                  "code": {
                    "value": "{{query}}"
                  }
                }
              },
              "searchTextParams": {
                "subqueries": {
                  "flexDataData": {
                    "flexDataKey": "$.moduleType",
                    "value": "{{form.moduleTypeCode}}"
                  },
                  "codeType": {
                    "value": "LOCATION"
                  },
                  "q": {
                    "value": "{{query}}"
                  }
                },
                "limit": 5
              },
              "item-text": "name",
              "item-value": "code"
            }
          },
          {
            "label": "BookingPage.portOfLoading",
            "name": "portOfLoading",
            "component": "AsyncAutoSuggest",
            "class": "xs-12 md-3",
            "validator": [
              "required"
            ],
            "more": [{
              "name": "portOfLoadingCode",
              "selector": "code"
            }],
            "props": {
              "required": true,
              "url": "api/code/query/code_master",
              "searchValueParams": {
                "subqueries": {
                  "flexDataData": {
                    "flexDataKey": "$.moduleType",
                    "value": "{{form.moduleTypeCode}}"
                  },
                  "codeType": {
                    "value": "LOCATION"
                  },
                  "code": {
                    "value": "{{query}}"
                  }
                }
              },
              "searchTextParams": {
                "subqueries": {
                  "flexDataData": {
                    "flexDataKey": "$.moduleType",
                    "value": "{{form.moduleTypeCode}}"
                  },
                  "codeType": {
                    "value": "LOCATION"
                  },
                  "q": {
                    "value": "{{query}}"
                  }
                },
                "limit": 5
              },
              "item-text": "name",
              "item-value": "code"
            }
          },
          {
            "label": "BookingPage.portOfDischarge",
            "name": "portOfDischarge",
            "component": "AsyncAutoSuggest",
            "class": "xs-12 md-3",
            "validator": [
              "required"
            ],
            "more": [{
              "name": "portOfDischargeCode",
              "selector": "code"
            }],
            "props": {
              "required": true,
              "url": "api/code/query/code_master",
              "searchValueParams": {
                "subqueries": {
                  "flexDataData": {
                    "flexDataKey": "$.moduleType",
                    "value": "{{form.moduleTypeCode}}"
                  },
                  "codeType": {
                    "value": "LOCATION"
                  },
                  "code": {
                    "value": "{{query}}"
                  }
                }
              },
              "searchTextParams": {
                "subqueries": {
                  "flexDataData": {
                    "flexDataKey": "$.moduleType",
                    "value": "{{form.moduleTypeCode}}"
                  },
                  "codeType": {
                    "value": "LOCATION"
                  },
                  "q": {
                    "value": "{{query}}"
                  }
                },
                "limit": 5
              },
              "item-text": "name",
              "item-value": "code"
            }
          },
          {
            "label": "BookingPage.placeOfDelivery",
            "name": "placeOfDelivery",
            "component": "AsyncAutoSuggest",
            "readonlyClass": "hidden",
            "class": "xs-12 md-2",
            "more": [{
              "name": "placeOfDeliveryCode",
              "selector": "code"
            }],
            "props": {
              "url": "api/code/query/code_master",
              "searchValueParams": {
                "subqueries": {
                  "flexDataData": {
                    "flexDataKey": "$.moduleType",
                    "value": "{{form.moduleTypeCode}}"
                  },
                  "codeType": {
                    "value": "LOCATION"
                  },
                  "code": {
                    "value": "{{query}}"
                  }
                }
              },
              "searchTextParams": {
                "subqueries": {
                  "flexDataData": {
                    "flexDataKey": "$.moduleType",
                    "value": "{{form.moduleTypeCode}}"
                  },
                  "codeType": {
                    "value": "LOCATION"
                  },
                  "q": {
                    "value": "{{query}}"
                  }
                },
                "limit": 5
              },
              "item-text": "name",
              "item-value": "code"
            }
          },
          {
            "label": "BookingPage.finalDestination",
            "name": "finalDestination",
            "component": "AsyncAutoSuggest",
            "readonlyClass": "hidden",
            "class": "xs-12 md-2",
            "more": [{
              "name": "finalDestinationCode",
              "selector": "code"
            }],
            "props": {
              "url": "api/code/query/code_master",
              "searchValueParams": {
                "subqueries": {
                  "flexDataData": {
                    "flexDataKey": "$.moduleType",
                    "value": "{{form.moduleTypeCode}}"
                  },
                  "codeType": {
                    "value": "LOCATION"
                  },
                  "code": {
                    "value": "{{query}}"
                  }
                }
              },
              "searchTextParams": {
                "subqueries": {
                  "flexDataData": {
                    "flexDataKey": "$.moduleType",
                    "value": "{{form.moduleTypeCode}}"
                  },
                  "codeType": {
                    "value": "LOCATION"
                  },
                  "q": {
                    "value": "{{query}}"
                  }
                },
                "limit": 5
              },
              "item-text": "name",
              "item-value": "code"
            }
          },
          {
            "label": "BookingPage.carrier",
            "name": "carrier",
            "component": "AsyncAutoSuggest",
            "readonlyClass": "xs-12",
            "class": "xs-12 md-6",
            "relation": "carrier",
            "more": [{
              "name": "carrierCode",
              "selector": "code"
            }],
            "props": {
              "url": "api/code/query/code_master",
              "searchValueParams": {
                "subqueries": {
                  "codeType": {
                    "value": "CARRIER"
                  },
                  "code": {
                    "value": "{{query}}"
                  }
                }
              },
              "searchTextParams": {
                "subqueries": {
                  "codeType": {
                    "value": "CARRIER"
                  },
                  "q": {
                    "value": "{{query}}"
                  }
                },
                "limit": 5
              },



              "item-text": "name",
              "item-value": "code"
            }
          },
          {
            "label": "BookingPage.vesselName",
            "name": "vesselName",
            "component": "AsyncAutoSuggest",
            "class": "xs-12 md-6",
            "more": [{
              "name": "vesselName",
              "selector": "name"
            }],
            "checkDisplayWhen": "return form && form.moduleTypeCode === 'SEA'",
            "props": {
              "url": "api/code/query/code_master",
              "searchValueParams": {
                "subqueries": {
                  "codeType": {
                    "value": "VESSEL"
                  },
                  "code": {
                    "value": "{{query}}"
                  }
                }
              },
              "searchTextParams": {
                "subqueries": {
                  "codeType": {
                    "value": "VESSEL"
                  },
                  "q": {
                    "value": "{{query}}"
                  }
                },
                "limit": 5
              },
              "item-text": "name",
              "item-value": "name"
            }
          },
          {
            "label": "BookingPage.voyageFlightNumber",
            "name": "voyageFlightNumber",
            "component": "v-text-field",
            "class": "xs-12 md-6",
            "checkDisplayWhen": "return form && form.moduleTypeCode === 'AIR'"
          },
          {
            "class": "xs-12 md-6",
            "checkDisplayWhen": "return form && (!form.moduleTypeCode || form.moduleTypeCode === 'ROAD')"
          }
        ]
      }
    },
    {
      "is": "v-divider"
    },
    {
      "is": "WidgetForm",
      "props": {
        "fields": [{
            "label": "BookingPage.serviceCode",
            "name": "serviceCode",
            "component": "AsyncSelect",
            "class": "xs-12 md-6",
            "validator": [
              "required"
            ],
            "props": {
              "required": true,
              "url": "api/code/query/code_master",
              "item-text": "name",
              "item-value": "code",
              "params": {
                "subqueries": {
                  "codeType": {
                    "value": "SERVTYPE"
                  }
                }
              }
            }
          },
          {
            "label": "BookingPage.incoTermsCode",
            "name": "incoTermsCode",
            "component": "AsyncSelect",
            "class": "xs-12 md-6",
            "relation": "incoTerms",
            "relationMore": [{
              "name": "freightTermsCode",
              "selector": "data.freightTermsCode"
            }, {
              "name": "otherTermsCode",
              "selector": "data.otherTermsCode"
            }],
            "props": {
              "url": "api/code/query/code_master",
              "item-text": "name",
              "item-value": "code",
              "params": {
                "fields": [
                  "code_master.*",
                  "flex_data.data"
                ],
                "subqueries": {
                  "codeType": {
                    "value": "INCOTERMS"
                  }
                }
              }
            }
          },
          {
            "label": "BookingPage.freightTermsCode",
            "name": "freightTermsCode",
            "component": "AsyncSelect",
            "readonlyClass": "hidden",
            "class": "xs-12 md-6",
            "props": {
              "url": "api/code/query/code_master",
              "item-text": "name",
              "item-value": "code",
              "params": {
                "subqueries": {
                  "codeType": {
                    "value": "PAYTERMS"
                  }
                }
              }
            }
          },
          {
            "label": "BookingPage.otherTerms",
            "name": "otherTermsCode",
            "component": "AsyncSelect",
            "readonlyClass": "hidden",
            "class": "xs-12 md-6",
            "props": {
              "url": "api/code/query/code_master",
              "item-text": "name",
              "item-value": "code",
              "params": {
                "subqueries": {
                  "codeType": {
                    "value": "PAYTERMS"
                  }
                }
              }
            }
          }
        ]
      }
    },
    {
      "is": "v-divider"
    },
    {
      "is": "WidgetForm",
      "props": {
        "fields": [{
            "label": "BookingPage.commodity",
            "name": "commodity",
            "component": "v-text-field",
            "class": "xs-12",
            "validator": [
              "required"
            ],
            "props": {
              "required": true
            }
          },
          {
            "label": "BookingPage.shipMarks",
            "name": "shipMarks",
            "component": "v-textarea",
            "class": "xs-12 md-6"
          },
          {
            "label": "BookingPage.goodsDescription",
            "name": "goodsDescription",
            "component": "v-textarea",
            "class": "xs-12 md-6"
          }
        ]
      }
    }
  ]
}