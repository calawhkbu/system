{
  "layout": "MainLayout",
  "components": [
    {
      "is": "Widget",
      "props": {
        "initUrl": "api/booking/{{id}}",
        "saveUrl": "api/booking",
        "primaryKey": "id",
        "canEdit": [
          "entity",
          "return true"
        ],
        "topSlots": [
          {
            "is": "v-btn",
            "props": {
              "flat": true,
              "icon": true,
              "small": true
            },
            "events": {
              "click.stop": [
                {
                  "type": "router",
                  "otherParams": {
                    "func": "push",
                    "path": "/bookings"
                  }
                }
              ]
            },
            "slots": [
              {
                "is": "Icon",
                "props": {
                  "icon": "arrow_back"
                }
              }
            ]
          },
          {
            "is": "I18nText",
            "props": {
              "class": "headline",
              "i18nKey": "BookingPage.title",
              "swig": true
            }
          },
          {
            "is": "v-spacer"
          },
          {
            "is": "BookmarkButton"
          }
        ],
        "components": {
          "assignment": [
            {
              "is": "div",
              "props": {
                "class": "xs-9",
                "style": {
                  "padding-right": "4px"
                }
              },
              "slots": [
                {
                  "is": "DynamicComponent",
                  "props": {
                    "class": "grid",
                    "components": [
                      {
                        "is": "DynamicComponent",
                        "props": {
                          "class": "xs-12",
                          "style": {
                            "padding": "4px 0px"
                          },
                          "components": [
                            {
                              "is": "AsyncComponent",
                              "props": {
                                "layoutName": "booking/generalForm"
                              }
                            }
                          ]
                        }
                      },
                      {
                        "is": "DynamicComponent",
                        "props": {
                          "class": "xs-12 md-7",
                          "style": {
                            "padding": "4px 4px 4px 0px"
                          },
                          "components": [
                            {
                              "is": "AsyncComponent",
                              "props": {
                                "layoutName": "booking/partyForm"
                              }
                            }
                          ]
                        }
                      },
                      {
                        "is": "DynamicComponent",
                        "props": {
                          "class": "xs-12 md-5",
                          "style": {
                            "padding": "4px 0px 4px 4px"
                          },
                          "components": [
                            {
                              "is": "AsyncComponent",
                              "props": {
                                "layoutName": "booking/dateForm"
                              }
                            }
                          ]
                        }
                      },
                      {
                        "is": "DynamicComponent",
                        "props": {
                          "class": "xs-12",
                          "style": {
                            "padding": "4px 0px"
                          },
                          "components": [
                            {
                              "is": "AsyncComponent",
                              "props": {
                                "layoutName": "booking/containerForm"
                              }
                            }
                          ]
                        }
                      },
                      {
                        "is": "DynamicComponent",
                        "props": {
                          "class": "xs-12",
                          "style": {
                            "padding": "4px 0px"
                          },
                          "components": [
                            {
                              "is": "AsyncComponent",
                              "props": {
                                "layoutName": "booking/referenceForm"
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              ]
            },
            {
              "is": "div",
              "props": {
                "class": "xs-3",
                "style": {
                  "padding-left": "4px"
                }
              },
              "slots": [
                {
                  "is": "AsyncComponent",
                  "props": {
                    "layoutName": "booking/tracking"
                  }
                },
                {
                  "is": "AsyncComponent",
                  "props": {
                    "layoutName": "booking/alert"
                  }
                },
                {
                  "is": "AsyncComponent",
                  "props": {
                    "layoutName": "booking/document"
                  }
                }
              ]
            }
          ],
          "create": [
            {
              "is": "WidgetPanelStepper",
              "props": {
                "haveTerms": true,
                "steps": [
                  {
                    "id": "BookingForm.GeneralForm",
                    "components": [
                      {
                        "is": "AsyncComponent",
                        "props": {
                          "layoutName": "booking/generalForm"
                        }
                      }
                    ]
                  },
                  {
                    "id": "BookingForm.PartyForm",
                    "components": [
                      {
                        "is": "AsyncComponent",
                        "props": {
                          "layoutName": "booking/partyForm"
                        }
                      }
                    ]
                  },
                  {
                    "id": "BookingForm.DateForm",
                    "components": [
                      {
                        "is": "AsyncComponent",
                        "props": {
                          "layoutName": "booking/dateForm"
                        }
                      }
                    ]
                  },
                  {
                    "id": "BookingForm.ContainerForm",
                    "components": [
                      {
                        "is": "AsyncComponent",
                        "props": {
                          "layoutName": "booking/containerForm"
                        }
                      }
                    ]
                  },
                  {
                    "id": "BookingForm.referenceForm",
                    "components": [
                      {
                        "is": "AsyncComponent",
                        "props": {
                          "layoutName": "booking/referenceForm"
                        }
                      }
                    ]
                  },
                  {
                    "id": "BookingForm.Preview",
                    "components": [
                      {
                        "is": "WidgetPreview",
                        "props": {
                          "type": "booking-preview"
                        }
                      }
                    ]
                  },
                  {
                    "id": "BookingForm.TermAndCondition",
                    "components": [
                      {
                        "is": "WidgetPreview",
                        "props": {
                          "type": "booking-term",
                          "isTerm": true,
                          "confirmTermI18nText": "BookingPage.confirmTerm"
                        }
                      }
                    ]
                  }
                ],
                "initUrl": "api/booking/{{id}}",
                "saveUrl": "api/booking",
                "primaryKey": "id"
              }
            }
          ],
          "edit": [
            {
              "is": "WidgetPanelStepper",
              "props": {
                "steps": [
                  {
                    "id": "BookingForm.GeneralForm",
                    "components": [
                      {
                        "is": "AsyncComponent",
                        "props": {
                          "layoutName": "booking/generalForm"
                        }
                      }
                    ]
                  },
                  {
                    "id": "BookingForm.PartyForm",
                    "components": [
                      {
                        "is": "AsyncComponent",
                        "props": {
                          "layoutName": "booking/partyForm"
                        }
                      }
                    ]
                  },
                  {
                    "id": "BookingForm.DateForm",
                    "components": [
                      {
                        "is": "AsyncComponent",
                        "props": {
                          "layoutName": "booking/dateForm"
                        }
                      }
                    ]
                  },
                  {
                    "id": "BookingForm.ContainerForm",
                    "components": [
                      {
                        "is": "AsyncComponent",
                        "props": {
                          "layoutName": "booking/containerForm"
                        }
                      }
                    ]
                  },
                  {
                    "id": "BookingForm.referenceForm",
                    "components": [
                      {
                        "is": "AsyncComponent",
                        "props": {
                          "layoutName": "booking/referenceForm"
                        }
                      }
                    ]
                  }
                ],
                "initUrl": "api/booking/{{id}}",
                "saveUrl": "api/booking",
                "primaryKey": "id"
              }
            }
          ],
          "map": [
            {
              "is": "Map",
              "slots": [
                {
                  "is": "Route",
                  "props": {
                    "startPoint": "widget.data.portOfLoadingCode",
                    "endPoint": "widget.data.portOfDischargeCode",
                    "estimatedStartTime": "widget.data.departureDateEstimated",
                    "actualStartTime": "widget.data.departureDateActual",
                    "estimatedEndTime": "widget.data.arrivalDateEstimated",
                    "actualEndTime": "widget.data.arrivalDateActual",
                    "mode": "widget.data.moduleTypeCode"
                  }
                }
              ]
            }
          ]
        }
      }
    }
  ]
}
