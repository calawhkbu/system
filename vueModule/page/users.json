{
  "fillParent": true,
  "components": [
    {
      "is": "TableTool",
      "props": {
        "reportingKey": "users",
        "jql": "users",
        "urlFormat": "/users{{ id|if('/', '') }}{{ id }}",
        "hasReports": true,
        "showFilterBar": true,
        "enableShare": false,
        "enableSetting": true,
        "noPartyGroupFilters" : true,
        "newReport": {
          "filters": {
            "invitationStatus" : {
              "value" :  ["sent","accepted"]
            }
          },
          "configurations": {
            "i18nContext": "InvitationPage",
            "clickable": true,
            "draggable": true,
            "sorting": {
              "direction": "DESC",
              "key": "person.updatedAt"
            },
            "pagination": {
              "current": 0,
              "perPage": 20
            }
          }
        },
        "fieldOptions": [
          {
            "key": "id",
            "sql": "invitation.id",
            "hidden": true
          },
          {
            "key": "updatedAt",
            "sql": "person.updatedAt",
            "width": 150,
            "format": "YYYY-MM-DD"
          },

          {
            "label" : "status",
            "key": "invitationStatus",
            "width": 150
          },

          {
            "label" : "",
            "key": "can_resend",
            "sortable" : false,
            "clickFunction" : {
              "type": "axios",
              "otherParams": {
                "axiosParams": {
                  "url": "/api/invitation/resend/{{row.id}}",
                  "method": "GET"
                }
              },
              "afterActions": [
                {
                  "type": "notify",
                  "otherParams": {
                    "i18nKey": "Resend Success"
                  }
                }
              ]
            },

            "tdComponent" : {
              "props" : {
                "slotComponents" :[
                  {
                    "is" : "icon",
                    "props" : {
                      "icon" : "email"
                    }
                  } 
                ]

              }
            },
            "width": 50
          },

          {
            "label" : "",
            "key": "can_delete",
            "sortable" : false,
            "clickFunction" : {
              "type": "axios",
              "otherParams": {
                "axiosParams": {
                  "url": "/api/invitation/delete/{{row.id}}",
                  "method": "DELETE"
                }
              },
              "afterActions": [
                {
                  "type": "notify",
                  "otherParams": {
                    "i18nKey": "Delete Success"
                  }
                }
              ]
            },

            "tdComponent" : {
              "props" : {
                "slotComponents" :[
                  {
                    "is" : "icon",
                    "props" : {
                      "icon" : "delete"
                    }
                  } 
                ]

              }
            },
            "width": 50
          },

          {
            "label" : "",
            "key": "can_restore",
            "sortable" : false,
            "clickFunction" : {
              "type": "axios",
              "otherParams": {
                "axiosParams": {
                  "url": "/api/invitation/restore/{{row.id}}",
                  "method": "GET"
                }
              },
              "afterActions": [
                {
                  "type": "notify",
                  "otherParams": {
                    "i18nKey": "Restore Success"
                  }
                }
              ]
            },

            "tdComponent" : {
              "props" : {
                "slotComponents" :[
                  {
                    "is" : "icon",
                    "props" : {
                      "icon" : "refresh"
                    }
                  } 
                ]

              }
            },
            "width": 50
          },

          {
            "key": "userName",
            "sql": "person.userName"
          },
          {
            "key": "firstName",
            "sql": "person.firstName"
          },
          {
            "key": "lastName",
            "sql": "person.lastName"
          },
          {
            "key": "displayName",
            "sql": "person.displayName"
          }
        ],
        "filters": [
          {
            "display": "status",
            "name": "invitationStatus",
            "props": {
              "multi" : true,
              "i18nContext": "InvitationStatus",
              "items": [
                {
                  "value": "sent",
                  "label": "sent"
                },
                {
                  "value": "accepted",
                  "label": "accepted"
                },
                {
                  "value": "disabled",
                  "label": "disabled"
                }
              ]
            },
            "type": "list"
          }
        ],
        "clickFunction": {
          "type": "router",
          "otherParams": {
            "func": "push",
            "path": "/user/{{id}}"
          }
        },
        "icons": [
          {
            "icon": "add",
            "click": [
              {
                "type": "router",
                "otherParams": {
                  "func": "push",
                  "path": "user/create"
                }
              }
            ]
          }
        ]
      }
    }
  ]
}
