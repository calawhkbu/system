{
  "layout": "MainLayout",
  "components": [
    {
      "is": "TableTool",
      "props": {
        "reportingKey": "shipments",
        "jql": "shipments",
        "urlFormat": "/shipments{{ id|if('/', '') }}{{ id }}",
        "hasReports": true,
        "showFilterBar": true,
        "enableShare": true,
        "enableSetting": true,
        "newReport": {
          "configurations": {
            "i18nContext": "Reporting",
            "clickable": true,
            "draggable": true,
            "sorting": {},
            "pagination": {
              "current": 0,
              "perPage": 20
            }
          }
        },
        "fieldOptions": [
          {
            "key": "id",
            "hidden": true
          },
          {
            "key": "jobDate",
            "datetime": "YYYY-MM-DD"
          }
        ],
        "filters": [
          {
            "name": "moduleTypeCode",
            "type": "list",
            "props": {
              "api": {
                "query": {
                  "method": "POST",
                  "url": "api/code/query/code_master",
                  "data": {
                    "subqueries": {
                      "codeType": {
                        "value": "moduleType"
                      }
                    }
                  },
                  "valueKey": "code",
                  "labelKey": "name"
                },
                "resolve": {
                  "method": "POST",
                  "url": "api/code/query/code_master",
                  "data": {
                    "subqueries": {
                      "codeType": {
                        "value": "moduleType"
                      },
                      "code": {
                        "value": "{{ value }}"
                      }
                    }
                  },
                  "valueKey": "code",
                  "labelKey": "name"
                }
              }
            }
          },
          {
            "name": "salesmanCode",
            "type": "text"
          },
          {
            "name": "date",
            "type": "date",
            "props": {
              "required": true,
              "shortcuts": [
                {
                  "label": "year-to-date",
                  "func": "year-to-date"
                },
                {
                  "label": "current",
                  "shortcuts": [
                    {
                      "label": "current year",
                      "func": {
                        "key": "current",
                        "args": { "unit": "year" }
                      }
                    },
                    {
                      "label": "current month",
                      "func": {
                        "key": "current",
                        "args": { "unit": "month" }
                      }
                    }
                  ]
                },
                {
                  "label": "last",
                  "shortcuts": [
                    {
                      "label": "last year",
                      "func": {
                        "key": "last",
                        "args": { "unit": "year" }
                      }
                    },
                    {
                      "label": "last 3 month",
                      "func": {
                        "key": "last",
                        "args": { "value": 3, "unit": "month" }
                      }
                    }
                  ]
                },
                {
                  "label": "coming",
                  "shortcuts": [
                    {
                      "label": "coming 7 days",
                      "func": {
                        "key": "coming",
                        "args": { "value": 7, "unit": "day", "startFromNow": true }
                      }
                    }
                  ]
                },
                {
                  "label": "past",
                  "shortcuts": [
                    {
                      "label": "past 7 days",
                      "func": {
                        "key": "past",
                        "args": { "value": 7, "unit": "day" }
                      }
                    }
                  ]
                }
              ]
            }
          },
          {
            "name": "Airline",
            "type": "autocomplete",
            "props": {
              "api": {
                "query": {
                  "method": "POST",
                  "url": "api/code/query/code_master",
                  "data": {
                    "subqueries": {
                      "codeType": {
                        "value": "airline"
                      },
                      "q": {
                        "value": "{{ q }}"
                      }
                    }
                  },
                  "valueKey": "code",
                  "labelKey": "name"
                },
                "resolve": {
                  "method": "POST",
                  "url": "api/code/query/code_master",
                  "data": {
                    "subqueries": {
                      "codeType": {
                        "value": "airline"
                      },
                      "code": {
                        "value": "{{ value }}"
                      }
                    }
                  },
                  "valueKey": "code",
                  "labelKey": "name"
                }
              },
              "display": "value",
              "multi": true
            }
          }
        ]
      }
    }
  ]
}
